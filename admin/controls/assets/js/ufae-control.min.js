!function($){jQuery(window).on("elementor:init",(function(){var preset_data=elementor.modules.controls.BaseData.extend({isUfaePreset:function(){var currentControl;return"ufae_design_option"===jQuery(".elementor-control.elementor-control-ufae_design_option.elementor-control-type-ufae_design_control select").data("setting")},onReady:function(){window.ufaePresets=window.ufaePresets||{},this.presetSettingsAjax()},getWidgetName:function(){return this.container.settings.get("widgetType")},ufaePresetSettingsExist:function(){return void 0!==window.ufaePresets[this.getWidgetName()]&&window.ufaePresets[this.getWidgetName()]},presetSettingsAjax:function(){!this.ufaePresetSettingsExist()&&this.getWidgetName()&&$.ajax({url:ufae_preset_control.ajaxUrl,type:"POST",data:{action:"ufae_preset_styles",nonce:ufae_preset_control.nonce}}).done(result=>{result.success&&result.data&&this.savePresetSettings(result.data)})},savePresetSettings:function(widget_json){window.ufaePresets[this.getWidgetName()]=widget_json},presetSettings:function(){return void 0!==window.ufaePresets[this.getWidgetName()]?window.ufaePresets[this.getWidgetName()]:{}},onBaseInputChange:function(event){if(this.constructor.__super__.onBaseInputChange.apply(this,arguments),this.isUfaePreset()){event.stopPropagation();var presets_list=this.presetSettings();""==event.currentTarget.value?this.defaultStyle(this.container.settings.defaults):void 0!==presets_list[event.currentTarget.value]&&this.updatePresets(presets_list[event.currentTarget.value])}},defaultStyle:function(style){this.updatePresets(style)},updatePresets:function(presets_json){var editedElementView=elementor.getPanelView().getCurrentPageView().getOption("editedElementView");$e.run("document/elements/reset-style",{container:editedElementView.getContainer()});var controls=this.container.settings.controls,widgetInstance=this,updatedData={},widgetSettings=this.container.settings,classControls=widgetSettings.getClassControls(),widgetViewElement=this.container.view.$el,previousEditedControls=editedElementView.model._previousAttributes.settings._previousAttributes;_.each(controls,(function(control,controlIndex){if(widgetInstance.model.get("name")!==controlIndex&&!_.isUndefined(presets_json[controlIndex]))if(control.is_repeater&&control.default.length>1){var clonedControlWidget=widgetInstance.container.settings.get(controlIndex).clone();clonedControlWidget.each((function(controlItem,dataIndex){_.each(controlItem.controls,(function(innerControl,innerControlIndex){widgetInstance.isStyleTransferEnabled(innerControl)&&(presets_json[controlIndex][innerControlIndex]||""===presets_json[controlIndex][innerControlIndex])&&widgetInstance.isStyleTransferEnabled(innerControl)&&clonedControlWidget.at(dataIndex).set(innerControlIndex,presets_json[controlIndex][innerControlIndex])}))})),updatedData[controlIndex]=clonedControlWidget,widgetInstance.isStyleTransferEnabled(control)&&(updatedData[controlIndex]=presets_json[controlIndex])}else if(!control.is_repeater&&""!==presets_json[controlIndex]&&widgetInstance.isContentTransferEnabled(control)){var editedValue=previousEditedControls[controlIndex];void 0!==typeof editedValue&&""!==editedValue&&editedValue!==presets_json[controlIndex]?updatedData[controlIndex]=editedValue:updatedData[controlIndex]=presets_json[controlIndex]}else updatedData[controlIndex]=presets_json[controlIndex]})),_.each(classControls,(function(control){var previousClassValue=widgetSettings._previousAttributes[control.name];control.classes_dictionary&&void 0!==control.classes_dictionary[previousClassValue]&&(previousClassValue=control.classes_dictionary[previousClassValue]),widgetViewElement.removeClass(control.prefix_class+previousClassValue)})),this.container.settings.setExternalChange(updatedData),this.container.view.render()},isStyleTransferEnabled:function(control){return void 0!==control.style_transfer?control.style_transfer:"content"!==control.tab||control.selectors||control.prefix_class||control.return_value},isContentTransferEnabled:function(control){var type=control.type;return!!["text","textarea","icons","wysiwyg","media","url"].includes(type)&&!0!==control.style_transfer}});elementor.addControlView("ufae_design_control",preset_data)}))}(jQuery);